
<!DOCTYPE html>
<html>
<head>
    <title>Console Log Pipe Test</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Console Log Pipe Test</h1>
    <p>Open browser console to see test results</p>
    <button onclick="runTests()">Run Tests</button>

    <script src="./node_modules/@kansnpms/console-log-pipe-client/dist/console-log-pipe.umd.js"></script>
    <script>
        function runTests() {
            console.log('🧪 Starting Console Log Pipe Tests');

            // Test 1: Check if ConsoleLogPipe is available
            if (typeof ConsoleLogPipe !== 'undefined') {
                console.log('✅ ConsoleLogPipe is available globally');
            } else {
                console.error('❌ ConsoleLogPipe not found');
                return;
            }

            // Test 2: Check version
            if (ConsoleLogPipe.version === '2.4.7') {
                console.log('✅ Version check passed: ' + ConsoleLogPipe.version);
            } else {
                console.error('❌ Version check failed: ' + ConsoleLogPipe.version);
            }

            // Test 3: Initialize
            try {
                ConsoleLogPipe.init();
                console.log('✅ ConsoleLogPipe initialized successfully');
            } catch (error) {
                console.error('❌ Initialization failed:', error);
                return;
            }

            // Test 4: Test different log levels
            console.log('🧪 Test log message');
            console.error('🧪 Test error message');
            console.warn('🧪 Test warning message');
            console.info('🧪 Test info message');

            // Test 5: Test object logging
            const testObject = {
                name: 'Test Object',
                timestamp: new Date().toISOString(),
                data: [1, 2, 3, 4, 5]
            };
            console.log('🧪 Test object:', testObject);

            // Test 6: Test network request (if available)
            if (typeof fetch !== 'undefined') {
                fetch('https://jsonplaceholder.typicode.com/posts/1')
                    .then(response => response.json())
                    .then(data => {
                        console.log('🧪 Network request test completed:', data.title);
                    })
                    .catch(error => {
                        console.error('🧪 Network request test failed:', error);
                    });
            }

            console.log('🎉 All browser tests completed!');
        }

        // Auto-run tests when page loads
        window.addEventListener('load', function() {
            setTimeout(runTests, 1000);
        });
    </script>
</body>
</html>